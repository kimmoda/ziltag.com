main ->
  if document.body.hasAttribute 'data-first-visit'
    intro = introJs()
    intro.setOptions
      steps: [
        {
          element: document.getElementById('sign_in')
          intro: '<%= I18n.t('intro.welcome') %>'
          position: 'bottom-right-aligned'
        }
      ]
    intro.start()
    signup_link = document.getElementById('intro_signup')
    signup_link.addEventListener 'click', -> intro.exit()
  if document.body.hasAttribute 'data-first-signed-in'
    intro = introJs()
    intro.setOptions
      steps: [
        {
          intro: '<%= I18n.t('intro.one') %>'
        },
        {
          element: document.querySelector('.post_article')
          intro: '<%= I18n.t('intro.two') %>'
        },
        {
          element: document.getElementById('new_ziltag')
          intro: '<%= I18n.t('intro.three') %>'
          position: 'bottom-right-aligned'
        },
        {
          element: document.getElementById('photos_link')
          intro: '<%= I18n.t('intro.four') %>'
          tooltipClass: 'add_dynamic_aside_class'
        }
      ]
    intro.start()
