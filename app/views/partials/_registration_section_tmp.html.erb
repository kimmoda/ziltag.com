<section class="c_registration_section">
  <form novalidate="novalidate" class="simple_form form-horizontal new_user" id="new_user" action="/users" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="gSYkH5SyA2qug/EeyU7goCQL8TCGJIIjVhrzcTh6gMM1/GFo/CkPW1vs969kOpBExiLWBSUmwAW4+CWwhCAkKA==">
    
    
    <div class="text-center form_photo" data-form-photo>
      
      <button type="button" class="text-center btn_profile_img" data-trigger-select-image="">
        <i class="fa fa-user fa-2x"></i><br>
        上傳相片
      </button>
      
      
      <div class="text-center show_profile_img_div hidden" data-profile-img-block="">
        <img class="img-responsive show_profile_img" data-profile-img="" src="http://localhost:3000/assets/test-98d08b81521c288ca1a6716463bc7cfea6d957d0f82d308ae6294d0441ad19e1.png" alt="Test 98d08b81521c288ca1a6716463bc7cfea6d957d0f82d308ae6294d0441ad19e1">
      </div><!-- /.show_profile_img_div -->
      
      
      <input type="file" class="hidden" data-target="data-profile-img" data-profile-input="">
    </div><!-- /.form_photo -->
    
    <div class="form_inputs">
      <div class="each_input_div">
        <div class="form-group string required user_username"><div class="col-sm-12"><input class="string required form-control" placeholder="用戶名稱" type="text" name="user[username]" id="user_username"></div></div>
        <i class="fa fa-user"></i>
      </div><!-- /.each_input_div -->
      
      <div class="each_input_div">
        <div class="form-group email required user_email"><div class="col-sm-12"><input class="string email required form-control" autofocus="autofocus" placeholder="Email 信箱" type="email" value="" name="user[email]" id="user_email"></div></div>
        <i class="fa fa-envelope"></i>
      </div><!-- /.each_input_div -->
      
      <div class="each_input_div">
        <div class="form-group password required user_password"><div class="col-sm-12"><input class="password required form-control" placeholder="密碼" type="password" name="user[password]" id="user_password"><p class="help-block">8 characters minimum</p></div></div>
        <i class="fa fa-lock"></i>
      </div><!-- /.each_input_div -->
      
      <div class="each_input_div">
        <div class="form-group password required user_password_confirmation"><div class="col-sm-12"><input class="password required form-control" placeholder="密碼確認" type="password" name="user[password_confirmation]" id="user_password_confirmation"></div></div>
        <i class="fa fa-lock"></i>
      </div><!-- /.each_input_div -->
    </div><!-- /.form_inputs -->
    
    <div class="form_actions">
      <input type="submit" name="commit" value="註冊" class="btn btn-default btn-block btn_register">
    </div>
    
    <p class="para_hint">點擊註冊即表示您同意我們的<a href="#">使用者條款</a>與<a href="#">隱私權政策</a>。</p>
</form>  
</section>

<script>
  $(document).on('ready page:load', function(){
    
    $("button[data-trigger-select-image], div[data-profile-img-block]").on('click', function(){
      $(this).closest("div[data-form-photo]").find("input[data-profile-input]").click();
    });
    
    $("input[data-profile-input]").change(function(){
      allJs.readURL(this);
    });
  });
</script>